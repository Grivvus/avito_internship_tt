# avito_internship_tt

## stack

  1. Go
  2. Gin - для роутинга
  3. Postgresql - база данных
  4. pgx - для взаимодействия с бд
  5. goose - для миграций
  6. oapi-codegen для генерации интерфейса сервера и типов на основе спецификации

## Известные проблемы:

  1. При первом запуске контейнера с бд, мигратор и контейнер с сервисом могут не подключиться к бд.
    При повторном запуске контейнеров все ок.
    Пока не смог найти причину такого поведения, в compose-файле описано,
    что эти контейнеры зависят от бд и поднимаются позже нее.

## Про ход решения

  1. Генерация интерфейса сервера и моделек на основе openapi-спецификации с помощью oapi-codegen.
    Данное решение помогло соблюсти контракт на api, а так же избежать проблемы "чистого листа".
  2. Протаскивание сгенерированных на основе openapi-спецификации моделей внутрь проекта.
    Из-за нехватки времени, пришлось использовать не самый лучший подход.
    Естественно было бы лучше сделать свои модели и маппер.
    И внутри проекта работать уже со своими моделями, но в случае с ограниченными ресурсами имеем, что имеем.
